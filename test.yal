module main;

def Y = 0;
def X = Y;

var x = get_x();

func main() {
    // this should reference the global
    var xx = x;

    // now we shadow it
    var x = X;

    {
        var x = 1;
        var y = x + 1;
        consume(x);
    }

    var z = x - 1;
    consume(z, y);
}

func consume(x: i32) {}
func get_x() i32 { return Y; }
