Counter := record {
    start: i32;
    end: i32;
    count: i32;
};

new_counter := .(end: i32) -> Counter {
    return .{ .count=0, .start=0, .end=end };
};

tick := .(c: *Counter) -> bool {
    c.count = c.count + 1;
    return c.count < c.end;
};

reset := .(c: *Counter) {
    c.count = c.start;
};

main := .() {
    c := new_counter(5);
    while tick(&c) {
        printf("tick...\n");
    }
};

// TODO: Implement variadic functions
extern "printf" printf: .(fmt: [*]i8) -> void;
