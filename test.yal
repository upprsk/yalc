Counter := record {
    count: u32;
    end: u32;
};

new_counter := .(end: u32) -> Counter {
    return .{.count=0, .end=end};
};

step := .(c: *Counter) -> bool {
    c.count = c.count + 1;
    return c.count < c.end;
};

int := i32;

export "main" main := .() -> int {
    c_printf("enter number:\n");

    v: u32 = 0;
    _ = c_scanf("%d", v&);
    c := new_counter(v);

    while step(c&) {
        c_printf("hello!\n");
    }

    return 0;
};

extern "printf" c_printf: .(fmt: [*:0]i8, ...) -> void;
extern "scanf" c_scanf: .(fmt: [*:0]i8, ...) -> i32;
