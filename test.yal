module main;

func main() {
    var c: Counter = .{ .total = 10 };
    c_printf("c.cnt=%d, c.total=%d\n", c.cnt, c.total);

    while true {
        var it, ok = c.next();
        if !ok { break; }

        c_printf("it=%d\n", it);
    }
}

@extern(link_name="printf")
func c_printf(fmt: [*]const u8, ...);
